{"version":3,"sources":["utils/request.js","views/Bancada/ListaBancadaPlantacoes.js"],"names":["headers","localStorage","getItem","axiosInstance","Axios","create","baseURL","ListaBancadaPlantacoes","bancadaId","useRouteMatch","params","useState","bancada","setBancada","useEffect","a","get","response","data","console","error","getBancada","nome","hover","bordered","striped","responsive","size","plantacoes","map","plantacao","key","idPlantacao","semeio","moment","dataInicio","format","dataFim","nomeBancada"],"mappings":"6KAAA,sBAIMA,EAAU,CAEhBA,eAA0B,oBAC1BA,EAAO,cAAP,iBAAqCC,aAAaC,QAAQ,oBAE1D,IAAMC,EAAgBC,IAAMC,OAAO,CAC/BC,QARe,iDASfN,YAGWG,O,yLC8CAI,UAtDgB,WAAO,IAAD,EAC3BC,EAAcC,cAAgBC,OAA9BF,UAD2B,EAELG,mBAAS,MAFJ,mBAE5BC,EAF4B,KAEnBC,EAFmB,KAmBnC,OAfAC,qBAAU,YACQ,uCAAG,4BAAAC,EAAA,+EAGQZ,IAAca,IAAd,kBAA6BR,IAHrC,OAGTS,EAHS,OAMfJ,EAAWI,EAASC,MANL,gDAQfC,QAAQC,MAAM,OAAd,MARe,yDAAH,qDAWhBC,KACC,CAACb,IAEG,kBAAC,IAAD,KACL,kBAAC,IAAD,KACE,kBAAC,IAAD,KACE,kBAAC,IAAD,KACE,gFAAyCI,QAAzC,IAAyCA,OAAzC,EAAyCA,EAASU,OAEpD,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAOC,OAAK,EAACC,UAAQ,EAACC,SAAO,EAACC,YAAU,EAACC,KAAK,MAC5C,+BACE,4BACE,yCACA,8CACA,qDACA,kDACA,yCAPN,OAUGf,QAVH,IAUGA,GAVH,UAUGA,EAASgB,kBAVZ,aAUG,EAAqBC,KAAI,SAAAC,GAAS,OACjC,2BAAOC,IAAKD,EAAUE,aACpB,4BACE,4BAAKF,EAAUE,aACf,4BAAKF,EAAUG,QACf,4BAAKC,IAAOJ,EAAUK,YAAYC,OAAO,eACzC,4BAAKF,IAAOJ,EAAUO,SAASD,OAAO,eACtC,4BAAKN,EAAUQ","file":"static/js/22.49e089de.chunk.js","sourcesContent":["import Axios from \"axios\";\r\n\r\nexport const API = 'https://hydroponics-api.azurewebsites.net//api';\r\n\r\nconst headers = {};\r\n\r\nheaders['Content-Type'] = 'application/json';\r\nheaders['Authorization'] = `Bearer ${localStorage.getItem('autenticarlogin')}`\r\n\r\nconst axiosInstance = Axios.create({\r\n    baseURL: API,\r\n    headers,\r\n})\r\n\r\nexport default axiosInstance;","import React, { useState, useEffect } from 'react';\r\nimport { Card, CardBody, CardHeader, Col, Row, Table } from 'reactstrap';\r\nimport { useRouteMatch } from 'react-router-dom';\r\nimport moment from 'moment';\r\nimport axiosInstance from '../../utils/request';\r\n\r\nconst ListaBancadaPlantacoes = () => {\r\n  const { bancadaId } = useRouteMatch().params;\r\n  const [bancada, setBancada] = useState(null)\r\n\r\n  useEffect(() => {\r\n    const getBancada = async () => {\r\n      try {\r\n        // 'buscar bancadas'\r\n        const response = await axiosInstance.get(`Bancada/${bancadaId}`);\r\n\r\n        // 'modifico o estado das bancadas, setBancadas(listagem)'\r\n        setBancada(response.data);\r\n      } catch (err) {\r\n        console.error('erro', err)\r\n      }\r\n    }\r\n    getBancada();\r\n  }, [bancadaId])\r\n\r\n  return <Row>\r\n    <Col>\r\n      <Card>\r\n        <CardHeader>\r\n          <strong>Lista de plantações da bancada: {bancada?.nome}</strong>\r\n        </CardHeader>\r\n        <CardBody>\r\n          <Table hover bordered striped responsive size=\"sm\">\r\n            <thead>\r\n              <tr>\r\n                <th>Número</th>\r\n                <th>Tipo de semeio</th>\r\n                <th>Data de Criação</th>\r\n                <th>Data de Término</th>\r\n                <th>Bancada</th>\r\n              </tr>\r\n            </thead>\r\n            {bancada?.plantacoes?.map(plantacao => (\r\n              <tbody key={plantacao.idPlantacao}>\r\n                <tr>\r\n                  <td>{plantacao.idPlantacao}</td>\r\n                  <td>{plantacao.semeio}</td>\r\n                  <td>{moment(plantacao.dataInicio).format(\"DD/MM/YYYY\")}</td>\r\n                  <td>{moment(plantacao.dataFim).format(\"DD/MM/YYYY\")}</td>\r\n                  <td>{plantacao.nomeBancada}</td>\r\n                </tr>\r\n              </tbody>\r\n            ))}\r\n          </Table>\r\n        </CardBody>\r\n      </Card>\r\n    </Col>\r\n  </Row>\r\n}\r\n\r\nexport default ListaBancadaPlantacoes;"],"sourceRoot":""}