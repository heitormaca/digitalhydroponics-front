{"version":3,"sources":["utils/request.js","views/Plantacao/ListaPlantacoes.js"],"names":["headers","localStorage","getItem","axiosInstance","Axios","create","baseURL","ListaPlantacoes","useState","plantacoes","setPlantacoes","useEffect","a","get","response","data","console","error","getPlantacoes","hover","bordered","striped","responsive","size","map","plantacao","key","idPlantacao","to","semeio","moment","dataInicio","format","dataFim","nomeBancada"],"mappings":"4KAAA,sBAIMA,EAAU,CAEhBA,eAA0B,oBAC1BA,EAAO,cAAP,iBAAqCC,aAAaC,QAAQ,oBAE1D,IAAMC,EAAgBC,IAAMC,OAAO,CAC/BC,QARe,iDASfN,YAGWG,O,0LC8CAI,UAtDS,WAAO,IAAD,EACQC,mBAAS,IADjB,mBACrBC,EADqB,KACTC,EADS,KAmB5B,OAhBAC,qBAAU,YACW,uCAAG,4BAAAC,EAAA,+EAGKT,IAAcU,IAAd,aAHL,OAGZC,EAHY,OAMlBJ,EAAcI,EAASC,MANL,gDASlBC,QAAQC,MAAM,OAAd,MATkB,yDAAH,qDAYnBC,KACC,IAEI,kBAAC,IAAD,KACL,kBAAC,IAAD,KACE,kBAAC,IAAD,KACE,kBAAC,IAAD,KACE,8DAEF,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAOC,OAAK,EAACC,UAAQ,EAACC,SAAO,EAACC,YAAU,EAACC,KAAK,MAC5C,+BACE,4BACE,yCACA,8CACA,qDACA,kDACA,yCAGJ,+BACGd,EAAWe,KAAI,SAAAC,GAAS,OACvB,wBAAIC,IAAKD,EAAUE,aACjB,4BAAKF,EAAUE,aACf,4BAAI,kBAAC,OAAD,CAAMC,GAAE,oCAA+BH,EAAUE,cAAgBF,EAAUI,SAC/E,4BAAKC,IAAOL,EAAUM,YAAYC,OAAO,eACzC,4BAAKF,IAAOL,EAAUQ,SAASD,OAAO,eACtC,4BAAKP,EAAUS","file":"static/js/3.3511ccd2.chunk.js","sourcesContent":["import Axios from \"axios\";\r\n\r\nexport const API = 'https://hydroponics-api.azurewebsites.net//api';\r\n\r\nconst headers = {};\r\n\r\nheaders['Content-Type'] = 'application/json';\r\nheaders['Authorization'] = `Bearer ${localStorage.getItem('autenticarlogin')}`\r\n\r\nconst axiosInstance = Axios.create({\r\n    baseURL: API,\r\n    headers,\r\n})\r\n\r\nexport default axiosInstance;","import React, { useEffect, useState } from 'react';\r\nimport { Card, CardBody, CardHeader, Col, Row, Table } from 'reactstrap';\r\nimport { Link } from 'react-router-dom';\r\nimport moment from 'moment';\r\nimport axiosInstance from '../../utils/request';\r\n\r\nconst ListaPlantacoes = () => {\r\n  const [plantacoes, setPlantacoes] = useState([]);\r\n\r\n  useEffect(() => {\r\n    const getPlantacoes = async () => {\r\n      try {\r\n        // 'buscar plantações'\r\n        const response = await axiosInstance.get(`Plantacao`);\r\n\r\n        // 'modifico o estado das plantações, setPLantacoes(listagem)\r\n        setPlantacoes(response.data);\r\n\r\n      } catch (err) {\r\n        console.error('erro', err)\r\n      }\r\n    }\r\n    getPlantacoes();\r\n  }, [])\r\n\r\n  return <Row>\r\n    <Col>\r\n      <Card>\r\n        <CardHeader>\r\n          <strong>Lista de plantações</strong>\r\n        </CardHeader>\r\n        <CardBody>\r\n          <Table hover bordered striped responsive size=\"sm\">\r\n            <thead>\r\n              <tr>\r\n                <th>Número</th>\r\n                <th>Tipo de semeio</th>\r\n                <th>Data de Criação</th>\r\n                <th>Data de Término</th>\r\n                <th>Bancada</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {plantacoes.map(plantacao => (\r\n                <tr key={plantacao.idPlantacao}>\r\n                  <td>{plantacao.idPlantacao}</td>\r\n                  <td><Link to={`/plantacao/plantacao-item/${plantacao.idPlantacao}`}>{plantacao.semeio}</Link></td>\r\n                  <td>{moment(plantacao.dataInicio).format(\"DD/MM/YYYY\")}</td>\r\n                  <td>{moment(plantacao.dataFim).format(\"DD/MM/YYYY\")}</td>\r\n                  <td>{plantacao.nomeBancada}</td>\r\n                </tr>\r\n              ))}\r\n            </tbody>\r\n          </Table>\r\n        </CardBody>\r\n      </Card>\r\n    </Col>\r\n  </Row>\r\n}\r\n\r\nexport default ListaPlantacoes;"],"sourceRoot":""}