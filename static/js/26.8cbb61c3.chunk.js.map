{"version":3,"sources":["utils/request.js","views/Estufa/ListaEstufas.js"],"names":["headers","localStorage","getItem","axiosInstance","Axios","create","baseURL","ListaEstufas","useState","estufas","setEstufas","useEffect","a","get","response","data","console","error","getEstufas","hover","bordered","striped","responsive","size","map","estufa","key","idEstufa","to","nome","moment","dataInicio","format","localizacao","qtdBancada"],"mappings":"6KAAA,sBAIMA,EAAU,CAEhBA,eAA0B,oBAC1BA,EAAO,cAAP,iBAAqCC,aAAaC,QAAQ,oBAE1D,IAAMC,EAAgBC,IAAMC,OAAO,CAC/BC,QARe,iDASfN,YAGWG,O,0LC8CAI,UAtDM,WAAO,IAAD,EACKC,mBAAS,IADd,mBAClBC,EADkB,KACTC,EADS,KAmBzB,OAhBAC,qBAAU,YACQ,uCAAG,4BAAAC,EAAA,+EAGQT,IAAcU,IAAd,UAHR,OAGTC,EAHS,OAMfJ,EAAWI,EAASC,MANL,gDASfC,QAAQC,MAAM,OAAd,MATe,yDAAH,qDAYhBC,KACC,IAEI,kBAAC,IAAD,KACL,kBAAC,IAAD,KACE,kBAAC,IAAD,KACE,kBAAC,IAAD,KACE,qDAEF,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAOC,OAAK,EAACC,UAAQ,EAACC,SAAO,EAACC,YAAU,EAACC,KAAK,MAC5C,+BACE,4BACE,yCACA,oCACA,qDACA,iDACA,0CAGHd,EAAQe,KAAI,SAAAC,GAAM,OACjB,2BAAOC,IAAKD,EAAOE,UACjB,4BACE,4BAAKF,EAAOE,UACZ,4BAAI,kBAAC,OAAD,CAAMC,GAAE,wCAAmCH,EAAOE,WAAaF,EAAOI,OAC1E,4BAAKC,IAAOL,EAAOM,YAAYC,OAAO,eACtC,4BAAKP,EAAOQ,aACZ,4BAAKR,EAAOS","file":"static/js/26.8cbb61c3.chunk.js","sourcesContent":["import Axios from \"axios\";\r\n\r\nexport const API = 'https://hydroponics-api.azurewebsites.net//api';\r\n\r\nconst headers = {};\r\n\r\nheaders['Content-Type'] = 'application/json';\r\nheaders['Authorization'] = `Bearer ${localStorage.getItem('autenticarlogin')}`\r\n\r\nconst axiosInstance = Axios.create({\r\n    baseURL: API,\r\n    headers,\r\n})\r\n\r\nexport default axiosInstance;","import React, { useEffect, useState } from 'react';\r\nimport { Card, CardBody, CardHeader, Col, Row, Table } from 'reactstrap';\r\nimport { Link } from 'react-router-dom';\r\nimport moment from 'moment'\r\nimport axiosInstance from '../../utils/request';\r\n\r\nconst ListaEstufas = () => {\r\n  const [estufas, setEstufas] = useState([]);\r\n\r\n  useEffect(() => {\r\n    const getEstufas = async () => {\r\n      try {\r\n        // 'buscar estufas'\r\n        const response = await axiosInstance.get(`Estufa`);\r\n\r\n        // 'modifico o estado das estufas, setEstufas(listagem)\r\n        setEstufas(response.data);\r\n\r\n      } catch (err) {\r\n        console.error('erro', err)\r\n      }\r\n    }\r\n    getEstufas();\r\n  }, [])\r\n\r\n  return <Row>\r\n    <Col>\r\n      <Card>\r\n        <CardHeader>\r\n          <strong>Lista de estufas</strong>\r\n        </CardHeader>\r\n        <CardBody>\r\n          <Table hover bordered striped responsive size=\"sm\">\r\n            <thead>\r\n              <tr>\r\n                <th>Número</th>\r\n                <th>Nome</th>\r\n                <th>Data de Criação</th>\r\n                <th>Localização</th>\r\n                <th>Bancadas</th>\r\n              </tr>\r\n            </thead>\r\n            {estufas.map(estufa => (\r\n              <tbody key={estufa.idEstufa}>\r\n                <tr>\r\n                  <td>{estufa.idEstufa}</td>\r\n                  <td><Link to={`/estufa/lista-estufa-bancadas/${estufa.idEstufa}`}>{estufa.nome}</Link></td>\r\n                  <td>{moment(estufa.dataInicio).format(\"DD/MM/YYYY\")}</td>\r\n                  <td>{estufa.localizacao}</td>\r\n                  <td>{estufa.qtdBancada}</td>\r\n                </tr>\r\n              </tbody>\r\n            ))}\r\n          </Table>\r\n        </CardBody>\r\n      </Card>\r\n    </Col>\r\n  </Row>\r\n}\r\n\r\nexport default ListaEstufas;"],"sourceRoot":""}